<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="static/dashstyle.css" />
		<script src="https://unpkg.com/phosphor-icons"></script>
		<title>Dashboard</title>
	</head>
	<body>
		<div class="frnt">
			<header class="header">
				<div class="header-content responsive-wrapper">
					<div class="header-logo">
						<a href="#" style="text-decoration: none;">
							<div class="logoonly">
								<img src="static/dashpics/logo.png" />
							</div>
							<h2 class="logotext">CBAAP</h2>
						</a>
					</div>
					<div class="header-navigation">
						<nav class="header-navigation-links">
							<a href="#"> Home </a>
							<a href="#"> History </a>
						</nav>
						<div class="header-navigation-actions">
							
							
							<div class="toolkitt" style="display: flex;gap: 2rem;">
								
							
		
								<a href="#" class="button" onclick="logger()" style="margin-top:0.5rem">
									<i class="ph-article-bold"></i>
									<span>logger</span>
								</a>
							

								
								<a id="user-icon" class="user-icon" href="#" class="avatar">
									<img style="margin-top:0.6rem" src="https://images.rawpixel.com/image_social_square/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvbHIvcGYtaWNvbjQtamlyMjA2NC1wb3ItbC5qcGc.jpg" alt="" />
								</a>
								
							
						</div>
					</div>
					
				</div>
			</header>
		</div>
		<main class="main">
			<div class="responsive-wrapper">
				<div class="main-header">
					<h1>Dashboard</h1>
				</div>

				<div class="content">
					<div class="content-panel">
						<div class="vertical-tabs">
							<a href="#" id="viewAll">View all</a>
							<a href="#" id="productivity">Productivity</a>
							<a href="#" id="fancy">Fun</a>
						</div>
					</div>
					<div class="content-main">
						<div class="card-grid">
							<article class="card" id="imagine">
								<div class="card-header">
									<div>
										<span
											><img
												src="static/dashpics/imagine.png"
										/></span>
										<h3>Imagine</h3>
									</div>
								</div>
								<div class="card-body">
									<p>
										Recreate moments from any movies you want
									</p>
								</div>
								<div class="card-footer">
									<a
										href="/create"
										target="_blank"
										id="imagelauch"
										>Launch App</a
									>
								</div>
							</article>

							<article class="card" id="docchat">
								<div class="card-header">
									<div>
										<span
											><img
												src="static/dashpics/docchat.png"
										/></span>
										<h3>CB-Doc Chat</h3>
									</div>
								</div>
								<div class="card-body">
									<p>
										Caters all the queries from Couchbase
										documentation
									</p>
								</div>
								<div class="card-footer">
									<a
										href="/doc_chat"
										target="_blank"
										id="docChatLaunch"
										>Launch App</a
									>
								</div>
							</article>

							<article class="card" id="archibot">
								<div class="card-header">
									<div>
										<span
											><img
												src="static/dashpics/archichat.png"
										/></span>
										<h3>CB-Architect Chat</h3>
									</div>
								</div>
								<div class="card-body">
									<p>
										Caters all the queries from Couchbase
										Architecture and Internal docs
									</p>
								</div>
								<div class="card-footer">
									<a href="/archi_chat" target="_blank"
										>Launch App</a
									>
								</div>
							</article>

							<article class="card" id="raggen">
								<div class="card-header">
									<div>
										<span
											><img
												src="static/dashpics/raggen.png"
										/></span>
										<h3>Rag Gen</h3>
									</div>
								</div>
								<div class="card-body">
									<p>
										Automates PDF upload, Couchbase
										connection, chunking, embedding,
										indexing for vector search
									</p>
								</div>
								<div class="card-footer">
									<a href="/process_form" target="_blank"
										>Launch App</a
									>
								</div>
							</article>

							<article class="card" id="finetune">
								<div class="card-header">
									<div>
										<span
											><img
												src="static/dashpics/finetune.png"
										/></span>
										<h3>Fine Tune Friend</h3>
									</div>
								</div>
								<div class="card-body">
									<p>
										Finetunes personalized models
										on user's data<span style="color: white;">
											finetuner
											couchbase
										</span>
										<span style="color: white;">
											finetuner
											couchbase
										</span>
										<span style="color: white;">
											finetuner
											couchbase
										</span>
									
									</p>
								</div>
								<div class="card-footer">
									<a href="/finetune" target="_blank"
										>Launch App</a
									>
								</div>
							</article>

							<article class="card" id="create_app">
								<div class="card-header">
									<div>
										<span
											><img
												src="static/dashpics/docchat.png"
										/></span>
										<h3>CB Create App</h3>
									</div>
								</div>
								<div class="card-body">
									<p>
										Create your own chatbot
										with few clicks
									</p>
								</div>
								<div class="card-footer">
									<a
										href="/create_app"
										target="_blank"
										id="createApp"
										>Launch App</a
									>
								</div>
							</article>

							
						</div>
					</div>
				</div>
			</div>
		</main>

		<script>
			document.addEventListener("DOMContentLoaded", function() {
				const viewAllLink = document.getElementById("viewAll");
				const productivityLink = document.getElementById("productivity");
				const fancyLink = document.getElementById("fancy");
	
				const cards = document.querySelectorAll(".card");
	
				function showAllCards() {
					cards.forEach(card => {
						card.style.display = "block";
					});
				}
	
				function hideAllCards() {
					cards.forEach(card => {
						card.style.display = "none";
					});
				}
	
				function showProductivityCards() {
					cards.forEach(card => {
						if (card.id !== "imagine") {
							card.style.display = "block";
						} else {
							card.style.display = "none";
						}
					});
				}
	
				function showFancyCards() {
					cards.forEach(card => {
						if (card.id === "imagine") {
							card.style.display = "block";
						} else {
							card.style.display = "none";
						}
					});
				}
	
				viewAllLink.addEventListener("click", function(event) {
					event.preventDefault();
					showAllCards();
				});
	
				productivityLink.addEventListener("click", function(event) {
					event.preventDefault();
					showProductivityCards();
				});
	
				fancyLink.addEventListener("click", function(event) {
					event.preventDefault();
					showFancyCards();
				});
	
	
	
				var userIcon = document.getElementById("user-icon");
				var userInfo = document.getElementById("user-info");
				var usernameElement = document.getElementById("username");
				var emailElement = document.getElementById("email");
	
				// Mock user data (replace with actual user data)
				var userData = {
					username: "JohnDoe",
					email: "johndoe@example.com"
				};
	
				userIcon.addEventListener("click", function() {
					// Display user information when user clicks the icon
					usernameElement.textContent = "Username: " + userData.username;
					emailElement.textContent = "Email: " + userData.email;
					userInfo.classList.toggle("active");
				});
				document.addEventListener("click", function(event) {
			if (!userInfo.contains(event.target) && !userIcon.contains(event.target)) {
				userInfo.classList.remove("active");
			}
		});
	
				// const docChatLink = document.querySelector('#docChatLaunch');
	
				// docChatLink.addEventListener('click', function(event) {
				//     event.preventDefault();
				//     launchDocChat();
				// });
	
				// function launchDocChat() {
				//     fetch('/doc_chat')
				//         .then(response => response.text())
				//         .then(data => {
				//             // Update the DOM with the received template
				//             document.body.innerHTML = data;
				//         })
				//         .catch(error => console.error('Error:', error));
				// }
				});
	
	
				function logout() {
			// Send an AJAX request to the logout route
			fetch('/logout', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json',
				},
				// You may include a CSRF token in the request if your application uses CSRF protection
				// body: JSON.stringify({ csrf_token: 'your_csrf_token' }),
			})
			.then(response => {
				// Check if the logout was successful
				if (response.ok) {
					// Redirect to the login page or perform any other desired action
					window.location.href = '/login';
				} else {
					// Handle error cases
					console.error('Logout failed');
				}
			})
			.catch(error => {
				// Handle network errors
				console.error('Network error:', error);
			});
		}
	
		function logger() {
			fetch('/view_logs', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json',
				},
				// You may include a CSRF token in the request if your application uses CSRF protection
				// body: JSON.stringify({ csrf_token: 'your_csrf_token' }),
			})
			.then(response => {
				// Check if the logout was successful
				if (response.ok) {
					// Redirect to the login page or perform any other desired action
					window.location.href = '/view_logs';
				} else {
					// Handle error cases
					console.error('Logger failed');
				}
			})
			.catch(error => {
				// Handle network errors
				// console.error('Network error:', error);
			});
		}
		</script>
	</body>
</html>
